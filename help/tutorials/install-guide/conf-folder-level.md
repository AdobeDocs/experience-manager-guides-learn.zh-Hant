---
title: 配置全局或資料夾級配置檔案
description: 瞭解如何配置全局或資料夾級配置檔案
source-git-commit: 5ac066bb8db32944abd046f64da11eeb1bdbe467
workflow-type: tm+mt
source-wordcount: '3890'
ht-degree: 0%

---


# 配置全局或資料夾級配置檔案 {#id181AH2003PF}

在企業中，不同的組或產品可以使用不同的創作模板、輸出模板、條件屬性配置檔案\（或主題方案\）和Web編輯器配置。 僅在企業\（或全局\）級別配置這些模板會使作者感到困難，因為他們將看到與他們無關的模板或配置檔案。

AEM參考線允許您在企業\（全局\）級別和資料夾級別配置創作\（主題或映射\）模板、輸出模板、條件屬性和Web編輯器配置。 這樣，您就可以將企業中不同部門或產品的配置分離。

此外，您可以將特定於資料夾的配置委託給部門或產品管理員來分散管理。

使用「參考線」設定中的「資料夾配置檔案」磁貼，可以在以下頁籤下配置設定：

- **常規**:配置資料夾級別\（或項目/產品\）設定時，常規頁籤可用。 您可以配置設定，如設定將在其上適用的資料夾路徑以及具有建立或更新配置管理權限的用戶。

- **條件屬性**:使用此頁籤可配置全局或資料夾級的條件屬性。 條件屬性是屬性名稱和值的組合，您也可以為其定義標籤。 可以使用標準DITA屬性或您自己的自定義屬性。 您在全局級別定義的條件屬性可用於項目中的所有用戶。 如果已定義資料夾級條件屬性，則這些屬性將與全局定義的條件屬性合併。

- **創作模板**:使用此頁籤配置作者將用於建立DITA內容的模板。 以下主題模板是現成的：

   - 字彙表

   - 參考

   - 主題

   - 概念

   - 任務

   - 疑難排解

   - 空白

   - 迪塔瓦爾
   >[!NOTE]
   >
   > 可以使用任何現有模板作為基礎建立新模板。 空白DITA模板不包含任何結構或元素，如其他模板。 您可以使用任何OOTB DITA模板作為基礎，對其進行修改，並使用其他名稱保存。 進行所需更改後，將更新的模板添加到全局或資料夾級別的創作模板配置中，然後可用於創作。

   除主題模板外，您還可以定義將提供給作者的映射模板。 以下映射模板是現成的：

   - 地圖

   - 布克馬普


- **輸出預設**:與「創作模板」類似，有五個預配置的輸出預設：

   - 站AEM點

   - PDF

   - HTML5

   - ePub

   - 自訂
   發佈者可以使用這些預置的輸出預設來發佈內容。 這些預設可由全局或資料夾級配置檔案的管理員配置。 配置後，發佈預設便可供新建立的DITA映射的發佈者使用。 您還可以將發佈預設應用於現有DITA映射，請參見 [應用預設更改](#id18AGD0K0OHS) 的子菜單。

- **XML編輯器配置**:使用此頁籤可自定義Web編輯器的外觀和各種功能。 以下可配置設定可用於Web編輯器：

   - XML編輯器UI配置
   - CSS模板佈局
   - XML編輯器代碼段
   - XML內容版本標籤
   - Rootmap \（僅在資料夾級別\）

可以同時配置全局配置檔案和資料夾級配置檔案。 在資料夾級配置檔案中，可以定義將適用設定的資料夾。 這些設定包括條件屬性、創作模板、輸出預設和XML編輯器設定。 然後，條件預設、創作模板和XML編輯器配置將提供給在配置資料夾中工作的作者。 同樣，發佈者將有權訪問配置資料夾中定義的配置輸出預設。

資料夾級配置檔案將覆蓋全局配置檔案中配置的設定。 換句話說，如果資料夾具有資料夾級配置檔案，則它將顯示在其相應資料夾配置檔案中配置的創作模板、輸出模板和XML編輯器設定。 它不會顯示全局配置檔案中配置的設定。 但是，這不適用於條件屬性。 在條件屬性的情況下，條件屬性在全局和資料夾級別上合併。

以下各節將指導您完成配置全局配置檔案和資料夾級配置檔案的過程。

## 配置全局配置檔案

執行以下步驟來配置全局配置檔案：

1. 以管理員身份登錄Adobe Experience Manager。

1. 按一下頂部的Adobe Experience Manager連結，然後選擇 **工具**。

1. 選擇 **參考線** 按一下 **資料夾配置檔案**。

   首次只顯示「資料夾配置檔案」頁面的「全局配置檔案」磁貼。

1. 按一下 **全局配置檔案** 平鋪。

1. 配置 **條件屬性**，請參閱 [配置全局或資料夾級配置檔案的條件屬性](#id1889D0I305Z)。

1. 配置 **創作模板**，請參閱 [配置創作模板](#id1889D0IL0Y4)。

1. 配置 **輸出預設**，請參閱 [配置輸出預設](#id18AGD0IH0Y4)。

1. 要配置XML編輯器配置，請參見 [配置和自定義XML Web編輯器](#id2065G300O5Z)。

1. 進行所有必需更新後，保存並關閉 **全局配置檔案**。


## 建立和配置資料夾級配置檔案

執行以下步驟來配置資料夾級配置檔案：

1. 以管理員身份登錄Adobe Experience Manager。

1. 按一下頂部的Adobe Experience Manager連結，然後選擇 **工具**。

1. 選擇 **參考線** 從工具清單中按一下 **資料夾配置檔案** 平鋪。

   首次顯示「資料夾配置檔案」頁時，僅使用預設的「全局配置檔案」磁貼。

1. 按一下&#x200B;**建立**。

1. 在 **建立資料夾配置檔案** 對話框：
   - 資料夾配置檔案的名稱。
   - 配置檔案將適用的資料夾的路徑。

      >[!NOTE]
      >
      > 不能對資料夾應用多個資料夾配置檔案。 確保您在此處選擇的資料夾沒有應用任何其他配置檔案。 如果父子資料夾具有其自己的特定配置檔案，則子資料夾將使用其自己配置檔案中的配置。 父資料夾中的配置不會覆蓋子資料夾的配置。

1. 按一下&#x200B;**建立**。

   在「資料夾配置檔案」頁面中建立具有資料夾配置檔案名稱的新磁貼

1. 按一下要編輯的資料夾配置檔案磁貼。

   此時將顯示「常規」頁籤，其中包含資料夾配置檔案的名稱和配置的資料夾資訊。

1. 按一下 **編輯** 添加多個資料夾和具有修改資料夾配置檔案的管理訪問權限的用戶。

   >[!NOTE]
   >
   > 您在此處添加的用戶將具有更新為此資料夾配置檔案配置的條件屬性、創作模板和輸出預設的管理權限。

1. 要添加資料夾，請按一下「資料夾路徑」中的「瀏覽」表徵圖，然後導航到並選擇一個資料夾，然後按一下「添加」將資料夾添加到此配置檔案。

   >[!NOTE]
   >
   > 確保您在此處選擇的資料夾沒有與其關聯的任何其他資料夾級別配置檔案。

1. 要添加用戶，請從 **管理員用戶** 下拉並按一下 **添加**。

   >[!NOTE]
   >
   > 您可以從下拉清單將多個用戶添加到資料夾配置檔案中。 您也可以通過按一下用戶ID旁邊的刪除表徵圖從清單中刪除現有管理員用戶。

1. 將所有必需的資料夾和用戶添加到資料夾配置檔案後，按一下 **保存**。


現在，您已準備好配置條件屬性、創作模板、輸出預設和XML編輯器。

>[!IMPORTANT]
>
> 建立資料夾配置檔案時，預設情況下它不包含任何創作模板。 您必須在資料夾配置檔案中添加所需的創作模板，以使其對作者可用。

## 配置全局或資料夾級配置檔案的條件屬性 {#id1889D0I305Z}

執行以下步驟以在全局或資料夾級別配置標準DITA支援的條件屬性：

1. 以管理員或對資料夾級別配置檔案具有管理權限的用戶身份登錄Adobe Experience Manager。

1. 按一下頂部的Adobe Experience Manager連結，然後選擇 **工具**。

1. 選擇 **參考線** 從工具清單中按一下 **資料夾配置檔案** 平鋪。

1. 按一下要配置的配置檔案磁貼。

   >[!NOTE]
   >
   > 您可以選擇在全局配置檔案或資料夾級配置檔案中配置條件屬性。

1. 在配置式頁面上，按一下 **條件屬性** 頁籤。

1. 按一下 **編輯**。

1. 按一下 **添加**。

1. 輸入 **名稱**。 **值**&#x200B;的 **標籤** 的子菜單。

   您只能使用屬性名稱保存配置檔案。 但是，僅當屬性具有指定的值時，才能使用該屬性。 如果為屬性同時指定 — 值和標籤，則Web編輯器將顯示條件屬性的標籤。 此外，在建立條件預設時，標籤會顯示給發佈管理員。

   以下螢幕快照顯示 `platform` 屬性，具有可能的值和標籤。

   ![](assets/add_profile.png){width="650" align="left"}

1. 如果要為同一屬性添加更多值，請按一下 **+** 表徵圖並輸入附加值和標籤。

1. 如果要添加更多屬性，請按一下 **添加**。

1. 按一下「**儲存**」。


**使用自定義屬性**

如果使用自定義屬性，則它必須是DTD支援的有效DITA屬性。 如果要使用不是標準DITA屬性的任何屬性，請執行以下附加步驟：

1. 將自定義屬性添加到DTD檔案。 例如，如果DTD檔案是commonElements.mod，則需要在DTD目錄中找到此檔案。 系統DTD檔案的預設路徑是：

   /libs/fmdita/dita\_resources/DITA-1.3/dtd/base/dtd/commonElements.mod

   >[!IMPORTANT]
   >
   > 專用DTD檔案應是自定義代碼部署的一部分。 /etc下的DTD是產品部署的一部分，因此安裝任何新版本都會覆蓋它。 建議在項目資料夾的/apps下添加專用DTD，並在DITA配置檔案中包括DTD/目錄路徑。有關詳細資訊，請參見 [整合DITA專用化](dita-ot-specialization.md#id211MB0E00XA)。

1. 開啟Adobe Experience ManagerWeb控制台配置頁。

1. 搜索並按一下 *com.adobe.fmdita.config.ConfigManager* 捆綁。

1. 儲存設定。

   這將清除系統快取。

1. 導航到以下位置可用的condAttrList.xml檔案：

   /libs/fmdita/config/condAttrList.xml

1. 建立的覆蓋節點 `config` 資料夾 `apps` 的下界。

1. 導航到中的condAttrList.xml檔案並將自定義屬性添加到 `apps` 節點：

   `/apps/fmdita/config/condAttrList.xml`

1. 儲存檔案。

1. 將自定義屬性添加到全局或資料夾級配置檔案。


## 配置創作模板 {#id1889D0IL0Y4}

指AEM南附帶了7個現成創作模板和2個DITA映射模板。 您可以選擇只有幾個可用於作者的模板。 如果您使用自定義模板，則可以配置該模板並使其可用於創作。 使用「資料夾配置檔案」配置中的「創作模板」頁籤，可以從全局或資料夾級別配置檔案中添加或刪除主題或映射模板。

即使在全局或資料夾級別配置主題或映射模板之前，您也可以定義儲存自定義創作模板的位置。 要配置自定義位置以儲存創作模板，請參閱 [配置自定義DITA模板資料夾路徑](conf-template-tags-custom-dita-topic-template.md#id191LCF0095Z)。

執行以下步驟將主題或映射模板添加到資料夾配置檔案中：

1. 以管理員或對資料夾級別配置檔案具有管理權限的用戶身份登錄Adobe Experience Manager。

1. 按一下頂部的Adobe Experience Manager連結，然後選擇 **工具**。

1. 選擇 **參考線** 從工具清單中按一下 **資料夾配置檔案** 平鋪。

1. 按一下要配置的配置檔案磁貼。

   >[!NOTE]
   >
   > 您可以選擇在全局配置檔案或資料夾級配置檔案中配置創作模板。

1. 在配置式頁面上，按一下 **創作模板** 頁籤。
1. 按一下 **編輯**。

   通過從預設位置搜索或瀏覽來添加主題和映射模板，您可以獲取這些選項。

   >[!NOTE]
   >
   > 預設情況下，所有創作模板都儲存在/content/dam/dita-templates資料夾中。 的 `dita-templates` 資料夾 `topics` 和 `maps` 子資料夾，用於儲存主題和映射模板。 可以在預設模板資料夾中添加自定義模板\(.dita、.xml或.ditamapfiles\)。 在預設資料夾中添加模板後，您就可以在全局或資料夾配置檔案中添加模板。 有關使用Web編輯器建立自定義模板的詳細資訊，請參見 [建立自定義創作模板](#id1917D0EG0HJ)。

   ![](assets/search-author-temp.png){width="550" align="left"}

1. 將所需的主題和映射模板添加到您的配置檔案。

   要添加模板，請執行以下操作之一：

   - 選擇 **搜索或類型** 並從下拉清單中選擇模板的名稱。 下拉清單包含所有預設模板和您建立的任何新模板。

      ![](assets/default-template-list.png){width="350" align="left"}

   - 按一下 **瀏覽** 並從DAM中選擇模板。

1. 按一下 **添加**。

   所選模板將添加到模板清單。

   ![](assets/author-templ-added-list.png){width="550" align="left"}

   >[!NOTE]
   >
   > 通過將模板拖放到清單中所需的位置，可以更改模板的順序。 模板的位置控制它們在主題或映射建立工作流的「藍圖」頁中顯示的順序。

1. 按一下「**儲存**」。


如果已在資料夾級別配置檔案上配置了模板，則配置的模板將與配置的資料夾相關聯。 在配置的資料夾下建立的所有項目都只能訪問那些在資料夾級別配置檔案下配置的模板。

## 建立自定義創作模板 {#id1917D0EG0HJ}

輔助AEM線提供了建立創作模板的簡單方法。 作為系統管理員，可以使用Web編輯器從頭建立創作模板。 然後，您可以在全局配置檔案中添加新模板，或使用資料夾特定配置檔案將其分配給特定資料夾。

執行以下步驟以建立自定義創作模板：

1. 以管理員身份登錄Adobe Experience Manager。

1. 在「資產」UI中，導航到配置為儲存模板檔案的資料夾。 預設情況下，所有主題模板都儲存在/content/dam/dita-templates/topics資料夾中。

   >[!NOTE]
   >
   > 要配置用於儲存主題或映射模板的自定義位置，請參閱 [配置自定義DITA模板資料夾路徑](conf-template-tags-custom-dita-topic-template.md#id191LCF0095Z)

1. 按一下 **建立** \> **DITA模板**。

1. 在「藍圖」頁上，選擇要建立的DITA主題模板的類型。

   >[!NOTE]
   >
   > 可以使用空白模板從頭開始。 「空白」模板中沒有任何結構或元素。

1. 按一下&#x200B;**下一步**。

1. 在新模板「屬性」頁上，輸入 **標題**。 **名稱**, **說明** 的子菜單。

   >[!NOTE]
   >
   > 根據模板的「標題」自動建議名稱。 如果要手動指定名稱，請確保名稱不包含任何空格、撇號或大括弧，並以.dita結尾。

1. *\（可選\）* 按一下 **添加縮略圖** 的子菜單。

1. 按一下&#x200B;**建立**。

   出現「Topic Created（建立主題）」消息。

   您可以選擇在Web編輯器中開啟模板進行編輯，或將模板檔案保存在模板儲存位置。 建立模板後，您可以根據創作需要使用Web編輯器自定義模板。 模板到位後，請確保將其與全局或資料夾級配置檔案相關聯。


## 配置輸出預設 {#id18AGD0IH0Y4}

在典型的企業設定中，不同的輸出模板可用於不同的產品或使用手冊。 此外，可能有一些通用的輸出生成過程，應由所有發佈者使用，並針對特定發佈者或項目組使用一組特定的輸出生成過程。

指AEM南允許管理員建立具有特定設定的輸出預設，這些預設可供所有或一組特定發佈者使用以生成輸出。 例如，管理員可以建立一個輸出預設，以生成所有發佈者中通用的使用手冊。 另外一個是建立特定於一組發佈者的寫程式用戶手冊。 這兩個預設都可配置為使用不同的輸出模板。 在本示例中，可以在全局級別配置用於生成使用手冊的通用發佈預設。 並且，可以在資料夾級配置用於生成寫程式用戶手冊的輸出預設。

在系統中建立預設輸出預設後，在此之後建立的所有DITA映射將使用預設預設來生成輸出。 但是，所有現有DITA映射將繼續使用先前使用它們配置的輸出預設。 如果要在所有現有DITA映射上應用新輸出預設，則需要運行應用預設更改工作流。

除了在全局或企業級別配置的預設外，發佈者仍有權建立更多輸出預設。 但是，這些預設與建立它們的DITA映射相關聯。 有關為DITA映射建立常規輸出預設的詳細資訊，請參見 *建立、編輯、複製或刪除輸出預設* 的 *使用Adobe Experience Manager指南*。

執行以下步驟來配置全局或資料夾特定的輸出預設：

1. 以管理員或對資料夾特定配置檔案具有管理權限的用戶身份登錄Adobe Experience Manager。

1. 按一下頂部的Adobe Experience Manager連結，然後選擇 **工具**。

1. 選擇 **參考線** 從工具清單中按一下 **資料夾配置檔案** 平鋪。

1. 按一下要配置的配置檔案磁貼。

   >[!NOTE]
   >
   > 您可以選擇在全局配置檔案或資料夾特定配置檔案中配置輸出預設。

1. 在配置檔案頁面上。 按一下 **輸出預設** 頁籤。

   將顯示現成輸出預設的清單，其中包AEM括「站點」、「PDF」、「HTML5」、「EPUB」和「自定義」。

1. 執行下列操作之一以建立或編輯輸出預設：

   - 按一下 **建立** 建立新的輸出預設。
   - 按一下「複製」(Duplicate)建立選定輸出預設的副本。 您可以更改重複預設並保存它。

   - 按一下 **編輯** 開啟選定預設的配置進行編輯。

      有關輸出預設設定的資訊，請參見 *瞭解輸出預設* 在使用Adobe Experience Manager指南。

1. 按一下 **保存** 的子菜單。


在此之後建立或上載的所有DITA映射都將具有新的或更新的輸出預設。

## 應用預設更改 {#id18AGD0K0OHS}

在全局級別建立的新輸出預設可用於您今後建立的所有新DITA映射。 同樣，如果在資料夾級別建立新輸出預設，則該預設可用於將在配置資料夾中建立的所有映射。 預設情況下，新輸出預設不可用於任何現有DITA映射。

如果已更新現有輸出預設，或希望將新輸出預設可用於現有DITA映射，則請執行以下步驟：

1. 以管理員或對資料夾特定配置檔案具有管理權限的用戶身份登錄Adobe Experience Manager。

1. 按一下頂部的Adobe Experience Manager連結，然後選擇 **工具**。

1. 選擇 **參考線** 從工具清單中按一下 **資料夾配置檔案** 平鋪。

1. 按一下要配置的配置檔案磁貼。

   >[!NOTE]
   >
   > 您可以選擇在全局配置檔案或資料夾特定配置檔案中配置輸出預設。

1. 在配置檔案頁面上。 按一下 **輸出預設** 頁籤。

   將顯示現成輸出預設的清單，其中包AEM括「站點」、「PDF」、「HTML5」、「EPUB」和「自定義」。

1. 選擇要應用於現有DITA映射的輸出預設。

1. 按一下 **應用預設更改** 的上界。

1. 在「應用預設更改」對話框中，可以從以下選項中進行選擇：

   - **選擇覆蓋現有預設選項**:如果選擇此選項，則在現有輸出預設中所做的任何更新都將覆蓋使用該預設的所有現有DITA映射中的設定。 但是，這樣做將導致丟失與地圖相關聯的任何現有條件預設和基線資訊。

   - **未選擇覆蓋現有預設選項**:如果未選擇此選項，則在現有輸出預設中所做的任何更新都不會影響現有DITA映射。 只將新添加的預設添加到現有DITA映射中。 請注意，新建立的DITA映射同時獲取更新的輸出預設和新添加的預設。

1. 按一下 **確定** 將所選輸出預設中的更改應用於所有現有DITA映射。


## 配置和自定義XML Web編輯器 {#id2065G300O5Z}

預設情況下，XML Web Editor附帶了許多功能，可幫助您的作者建立DITA文檔。 如果在限制性環境中工作，則可以選擇向作者公開哪些功能。 使用「XML編輯器配置」頁籤，您可以輕鬆控制功能並更改Web編輯器的外觀。 作為管理員，可以自定義Web編輯器的以下元件：

**XML編輯器UI配置**

此設定控制Web編輯器的工具欄和其他用戶介面元素。 按一下 **下載** 表徵圖，可下載本地系統上最新的ui\_config.json檔案。 然後，可以對檔案進行更改並上載相同的內容。 按一下 **下載預設**&#x200B;表徵圖，在本地系統上下載預設的ui\_config.json檔案。 您始終可以下載預設檔案，對其進行更改，然後上載它。根據您在全局或資料夾級別配置檔案上載檔案的位置，將相應應用這些更改。 有關如何使用ui\_config.json檔案自定義XML編輯器的詳細資訊，請參見 [自定義工具欄](conf-web-editor-customize-toolbar.md#)。

**CSS模板佈局**

下載本節中提供的檔案，以在Web編輯器中預覽或開啟文檔以供編輯時，自定義文檔的外觀。 可供下載的預設CSS檔案僅是test檔案，不應用於自定義。 您可以為Web編輯器建立具有自定義項的CSS檔案並上載該檔案。 例如，可以使用以下代碼建立.css檔案：

```css
.title {    font-size: 9em;}
```

保存此檔案並將其上載到「CSS模板佈局」部分。 下次下載檔案時，將獲取Web編輯器中使用的最新CSS檔案。

**XML編輯器代碼段**

使用本節中的配置檔案，您可以建立一些預設的片段並與作者共用。 檔案的預設結構如下所示：

```css
{
   "snippetID": {
      "name": "snippet Name",
      "description": "snippet Description",
      "value": "<i>this is snippet value</i>"
  }
}
```

建立代碼段需要以下詳細資訊：

- **片段ID:**   代碼段的唯一ID。 它可以採用字母數字值。

- **名稱：**   用於標識代碼段的描述性名稱。 此名稱顯示在「代碼段」面板中。

- **說明：**   添加代碼段的描述性資訊。

- **值：**   提供代碼段的XML代碼。

>[!NOTE]
>
> 可以添加更多片段，方法是在代碼段定義的末尾添加逗號\(,\)，並為下一個代碼段重複相同的結構。

**XML內容版本標籤**

預設情況下，允許作者建立其選擇的標籤並將其與主題檔案關聯。 但是，這可能導致同一標籤的許多變體，例如，可以有「Release 1.0」、「Release-1.0」、「Release 1」標籤來標識主題的同一階段。 為避免系統中出現這種不一致的標籤，您可以建立預定義的標籤清單，然後允許作者從中進行選擇。 一致的標籤有助於更好地管理系統中的檔案。

使用版本標籤配置，您可以上載組織的有效標籤清單。 下載預設的label.json檔案，並按如下所示修改它：

```css
{
"label1":"Draft",
"label2":"PM-Review",
"label3":"Engg-Review",
"label4":"QE-Review",
"label5":"Ready for Loc",
"label6":"Ready for Publish"
}
```

在上例中，&quot;label1&quot;是標籤序列的標識符，它由標籤附加，標籤顯示給作者，而無論需要標籤。 保存此檔案，並在「XML內容版本標籤」部分中上載它。

>[!IMPORTANT]
>
> 要使資料夾級配置生效，用戶需要在Web編輯器中的「用戶首選項」下選擇配置檔案。

**根映射**

如果您的作者使用特定的根映射，則可以在此處瀏覽並選擇該根映射。 請注意，您只能為資料夾級配置檔案定義rootmap。

