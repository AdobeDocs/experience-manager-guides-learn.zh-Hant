---
title: 管理檔案和資料夾
description: 了解如何管理檔案和資料夾
source-git-commit: cc0fbca257d82cc82db5b5da8d263309fd71de55
workflow-type: tm+mt
source-wordcount: '2502'
ht-degree: 0%

---


# 管理檔案和資料夾 {#id2116G0L08XA}

本節說明AEM參考線如何處理基本檔案操作，例如複製、貼上、拖放和刪除檔案。 可能的情況如下：

## 複製和貼上檔案

**如果檔案有人類可讀的檔案名**

- *如果目標資料夾中不存在同名檔案*:系統會建立檔案的新復本，並為其指派UUID。 在此，檔案名與原始檔案名相同。
- *如果目標資料夾中已存在同名檔案*:檔案的新副本會建立尾碼為\（如filename0.extension\）。 新建立的檔案也會獲派UUID。


**如果檔案名稱是以UUID模式為基礎**

- *如果目標資料夾中不存在同名檔案*:系統會建立檔案的新復本，並在新位置為其指派新的UUID。 在此，檔案名稱與UUID相同。
- *如果目標資料夾中已存在同名檔案*:系統會建立檔案的新復本，並為其指派新的UUID。 檔案名稱與UUID相同。


## 複製和貼上資料夾

**複製資料夾並貼到相同位置**

- *資料夾中有人類可讀檔案名的檔案*:資料夾的新副本會以尾碼\（如foldername0\）建立。 資料夾內的檔案也會獲派新的UUID。 但是，檔案名稱沒有更改。

- *資料夾的檔案檔案檔案根據UUID模式*:資料夾的新副本會以尾碼\（如foldername0\）建立。 新UUID也會指派給新資料夾內的所有檔案。 檔案名也會更改；檔案名稱與新的UUID相同。


**複製和貼上位於不同位置的資料夾**

- *資料夾中有人類可讀檔案名的檔案*:資料夾的新副本隨即建立，且新UUID也會指派給新位置資料夾內的所有檔案。 在此，資料夾或檔案名稱不會變更。

- *資料夾的檔案檔案檔案根據UUID模式*:會以與原始資料夾相同的名稱建立資料夾的新副本。 新UUID也會指派給新資料夾內的所有檔案。 檔案名也會更改；檔案名稱與新的UUID相同。


## 拖放檔案

**拖放人類可讀檔案名稱**

- *在相同位置拖放*:您可選擇 **覆寫現有檔案**, **保留兩個檔案**，以及建立現有工作副本版本的選項。

   ![](images/uuid-human-readable-drag-drop-same-location.PNG){width="650" align="center"}

   如果您選擇 **覆寫現有檔案** 選項，則要上傳的檔案會替換原始位置的現有檔案的當前工作版本。 UUID不會建立或變更。

   如果您選擇 **保留兩個檔案** 選項，則會建立尾碼為\（如filename0.extension\）的檔案新副本。 新複製的檔案也會獲派新的UUID。

   使用「覆蓋現有檔案」(s\)選項，如果選擇從現有工作副本建立版本的選項，則還會從文檔的工作副本建立新版本。

   >[!NOTE]
   >
   > **為上傳的檔案建立新版本** 功能必須由管理員啟用。 如果已啟用此功能，則會建立上傳檔案的新版本。 如果取消選取選項，則不會建立上傳的檔案版本。 如需詳細資訊，請參閱 *為上傳的檔案建立新版本* 一節中的「安裝及設定Adobe Experience Manager指南」as a Cloud Service。

   如果某個檔案已被其他用戶簽出以進行編輯，而您嘗試上載和覆蓋現有檔案，則該檔案將失敗並顯示錯誤。

   >[!NOTE]
   >
   >此 **上載時覆蓋簽出的檔案** 功能必須由管理員停用。 如果啟用了此功能，則可以覆蓋簽出的檔案。 如果未啟用功能，則禁止覆蓋簽出的檔案。 如需詳細資訊，請參閱 *上載時覆蓋簽出的檔案* 一節中的「安裝及設定Adobe Experience Manager指南」as a Cloud Service。


- *在不同位置拖放檔案*:系統會建立檔案的新復本，並在新位置為其指派新的UUID。 在此，檔案名與原始檔案名相同。


**根據UUID模式拖放檔案名稱**

*在相同位置拖放檔案*:您可選擇 **覆寫現有檔案** 以及建立現有工作副本版本的選項。

![](images/uuid-drag-drop-same-location.PNG){width="650" align="center"}

檔案遭覆寫時，檔案名稱或其UUID不會變更。

如果您選取 **建立現有工作副本的版本** 選項，然後從文檔的工作副本建立新版本；將上載新檔案，並建立新版本的檔案，並將其作為文檔的工作副本。

**為上傳的檔案建立新版本** 功能必須由管理員啟用。 如果已啟用此功能，則會建立上傳檔案的新版本。 如果取消選取選項，則不會建立上傳的檔案版本。 如需詳細資訊，請參閱 *為上傳的檔案建立新版本* 一節中的「安裝及設定Adobe Experience Manager指南」as a Cloud Service。


*在不同位置拖放檔案*:您可選擇 **覆寫現有檔案**, **將檔案移到新位置**，以及建立現有工作副本版本的選項。

![](images/uuid-drag-drop-different-location.PNG){width="650" align="center"}

如果您選擇 **覆寫現有檔案** 選項，則上傳的檔案會取代原始位置的現有檔案。 UUID不會建立或變更。

如果您選擇 **將檔案移到新位置** 選項，則將現有檔案移至目前位置，然後以要上傳的檔案加以覆寫。 將檔案移動到新位置不會中斷檔案中或檔案中的任何現有參照。

通過替換或移動檔案，如果選擇從現有副本建立版本的選項，則從文檔的工作副本建立新版本；新檔案會在現有位置被替換，或移至新位置。


## 大量移動檔案

AEM參考線隨附大量移動工具，可協助管理員將檔案數量眾多的資料夾從一個位置移至另一個位置。 此工具可輕鬆將一或多個資料夾中的檔案移至AEM存放庫中的不同資料夾。 此工具的主要功能之一是，它不僅可移動大量檔案，而且還可維護所移動檔案的參照和參照。 您可以調整可以批量移動的檔案數量，而不會妨礙編寫和發佈任務。

>[!NOTE]
>
> 「批量移動工具」僅在資料夾級別工作。 如果您想要移動個別主題或對應檔案，請使用AEM Assets UI中的一般移動工具。

以下是「批量移動工具」提供的一些功能：

- 您可以調整每個批次中要處理的檔案數量。 這可能需要您執行一些測試，才能找到系統可輕鬆處理的最佳數量。
- 製作和發佈服務可順暢運作，不會中斷移動作業。
- 對後續的\（運行\）批處理之間的時間間隔具有競爭控制。 此時間間隔可確保在開始下一批檔案之前完成後處理操作。

- 自動處理具有相同名稱的資料夾。 此功能可確保即使有相同名稱的資料夾被移動，也不會加以覆寫。

- 自動處理所移動檔案的參照和參照。


在運行批處理之前，必須考慮以下幾點：

- 如果您計畫移動當前正在審閱的主題，則必須先關閉所有此類主題的審閱流程，然後才能移動這些主題。 不關閉審閱任務將中斷審閱過程。
- 您隨時只能在系統上運行單個批量移動操作。 這可確保正確處理所移動主題的參照和來自主題的參照。


要批量移動檔案，請執行以下步驟：

1. 按一下頂端的Adobe Experience Manager連結，然後選擇 **工具**.
1. 選擇 **指南** 從工具清單中。
1. 按一下 **批量移動工具** 方塊。

   隨即顯示「批量移動工具」頁。

   ![](images/bulk-move-tool_cs.PNG){width="550" align="center"}

1. 在「批量移動工具」頁上提供以下詳細資訊：

   - **將尾碼添加到重複檔案**:如果要移動具有相同名稱的資料夾，則必須選擇此選項。 例如，在上方的螢幕擷取中， **源路徑** 包含要移動的資料夾名稱。 名為topic的資料夾存在於兩個不同的位置 — test-A和test-B。選取此選項後，資料夾將會成功移動。 第一個移動的資料夾將命名為topic，而第二個資料夾將命名為topic0。 移動操作將連續序列\（0、1、2等）中的尾碼添加到具有相同名稱的資料夾。

      如果您在未選擇此選項的情況下移動具有相同名稱的資料夾，則操作將會中止並顯示消息。

   - **源路徑**:指定您要移動的資料夾位置。 通常，您必須從瀏覽器的網址列複製並貼上來源位置。 您可以按一下 **新增** 按鈕。

   - **目的地路徑**:指定要移動源資料夾的位置。

1. 按一下 **大量移動**.

   系統開始將檔案從源位置移動到目標位置。 程式完成後，移動程式的摘要會顯示在頁面底部。

   ![](images/bulk-move-summary.PNG){width="650" align="center"}


## 搜尋DITA內容

依預設，AEM不會辨識DITA內容，因此不提供在其存放庫內搜尋DITA內容的任何機制。 AEM參考線會在AEM上新增圖層，讓AEM了解及處理DITA內容。 AEM參考線中的搜尋DITA內容功能可讓您在AEM存放庫內搜尋DITA內容。

>[!NOTE]
>
>您的系統管理員可以 **DITA元素** 搜尋元件，然後您就可以使用AEM Assets UI中的功能。 如需更多詳細資訊，請參閱 *在資產UI中新增DITA元素搜尋元件* 一節中「安裝及設定Adobe Experience Manager指南」的as a Cloud Service。

使用搜尋功能，您可以：

- 根據元素值搜尋DITA內容；例如， `author`= xml
- 根據屬性值搜尋DITA內容；例如， `@platform`= windows
- 使用DITA元素和屬性值的組合；例如， `author`= xml `AND` `@platform`= windows

執行下列步驟以在AEM存放庫內搜尋DITA內容：

1. 開啟Assets UI。

1. 在左側邊欄中，選取 **篩選器**.

   ![](images/left-rail-filter.png){width="450" align="center"}

   內容篩選選項會顯示在左側邊欄中。 您也會找到篩選選項DITA元素，用於篩選DITA內容。

   ![](images/dita-element-search.png){width="450" align="center"}

1. *\（可選\）* 在 **選擇搜索目錄** 欄位，瀏覽要搜索的位置。

1. 在 **DITA元素** 篩選，提供 **元素名稱**, **屬性**，以及您要搜尋的值。 例如，要搜索具有 `author` 元素 `@type` 建立者，您需要提供以下螢幕截圖所示的資訊：

   ![](images/search-params.png){width="650" align="center"}

   在 **DITA元素** 篩選器會顯示在搜尋列頂端。 符合搜尋條件的檔案會顯示在 **搜尋結果** 的上界。

   指定搜索標準時，請考慮以下幾點：

   - 若要搜尋確切的片語，請在值欄位中輸入片語，並以引號括住 `"`片語搜尋`"`.
   - 您最多可以新增3個DITA元素搜尋條件。
   - 若您指定多個搜尋條件，則會使用AND邏輯結合所有搜尋條件。
   - 在搜索條件中不能使用通配符。 例如，要搜索具有Windows值的平台\（屬性\），不能指定\*form或Windo。

**搜索中的簽出狀態篩選器**

除了DITA元素篩選器，AEM參考線也可讓您根據其結帳狀態來搜尋內容。 如果您想要快速過濾出當前已由您簽出的檔案，並且想要重新簽入這些檔案，則此功能將有所幫助。

執行以下步驟以根據檔案的簽出狀態搜索檔案：

1. 開啟Assets UI。

1. 按一下 **篩選** 在左側邊欄。
1. 在搜尋列中輸入您的搜尋關鍵字。
1. 從左側邊欄套用必要的篩選。

   例如，您可以套用 **結帳狀態** 篩選以顯示已簽出或已簽入的主題。 通過從「檢出者」(Checked Out By)清單中選擇用戶或組，可以進一步細化此清單。

   將顯示您的搜索結果。


## 刪除檔案

從AEM存放庫刪除檔案是受限制的功能，由系統管理員控制。 根據設定，刪除檔案可能會受到限制(如果是：

- 簽出
- 有傳入或傳出的參考

只有屬於具有刪除檔案權限的特定使用者群組時，您才能刪除檔案。

>[!NOTE]
>
> 有關檔案管理配置的詳細資訊，請參見 *防止刪除已簽出的檔案* 和 *防止刪除引用的檔案* 安裝及設定Adobe Experience Manager指南中的章節as a Cloud Service。

如果您的管理員已將檔案刪除權限授予所有用戶，則刪除包含引用的檔案時將顯示以下消息：

![](images/allow_unsafe_delete-force-delete.PNG){width="650" align="center"}

在此情況下，可以強制刪除檔案，而不從檔案中刪除傳入或傳出的引用。

如果將刪除權限指定給特定使用者群組，則屬於該群組的使用者也會收到上述訊息。 不過，對於其他使用者，會顯示下列訊息：

![](images/allow_unsafe_delete_for_delete_assets_group.PNG){width="650" align="center"}

在此情況下，除非刪除所有傳入和傳出的引用，否則不允許用戶刪除檔案。

## 使用媒體檔案

影像和視訊等媒體檔案是內容的必要部分。 上傳和管理內容時，您也可以使用媒體檔案。

若您的媒體檔案已進行任何變更，您可以在 **版本記錄**。要查找不同版本的媒體檔案中的更改，請執行以下操作：

1. 在中存取檔案 **Assets UI**.
1. 選擇要查看其版本歷史記錄的檔案。
1. 在左側邊欄中，按一下 **版本記錄** 並選取版本。
1. 您也可以在「版本歷史記錄」下查看不同版本的縮圖。

   ![](images/media-version-history-icon.png){width="800" align="center"}

1. 從列出的版本中，選擇要用作基本版本的版本，然後按一下 **預覽版本**. 所選版本的預覽顯示在「版本預覽」窗口中。

   ![](images/media-version-preview.png){width="650" align="center"}


**上層主題：**[&#x200B;管理內容](authoring.md)

