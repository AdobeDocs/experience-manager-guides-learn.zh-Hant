---
title: 站AEM點
description: 瞭解如AEM何站點
exl-id: 8523ec55-d7f3-439d-96e8-163c7632f73c
source-git-commit: c74badebbcb4733fb9caa79c646b1d1e5c8bfe8e
workflow-type: tm+mt
source-wordcount: '2545'
ht-degree: 0%

---

# 站AEM點 {#id205BE3008SW}

「站點」(Site)輸出可AEM以使用以下選項：

可以通過兩AEM種方式建立站點預設：

**從Web編輯器：** 在「儲存庫」面板中，在「映射視圖」中開啟DITA映射檔案，然後在「輸出」頁籤中，選擇+表徵圖以建立輸出預設，然後從「添加預設」對話框的「類型」下拉菜單中選擇「站點」。在Web編輯器中，配置已在「常規」和「高級」頁籤下組織：

**一般**

的 **常規** 頁籤包含以下配置：

- 網站名稱
- 輸出路徑
- 現有輸出頁
- 刪除孤立網站頁
- 應用條件使用\（如果為映射定義了條件\）
- 使用基線\（如果為映射建立了基線\）
- 後期生成工作流

**進階**

「高級」頁籤包含以下配置：

- 清除DITA-OT臨時檔案
- 為每個主題生成單獨的PDF
- 將「映射」屬性用作預設

有關詳細資訊，請參閱 [站AEM點配置](#id231KIM004X1)。

**從映射儀表板**

要開啟站點的輸出預設AEM，請按一下資產UI中的DITA映射檔案，然後按一下輸出預設，然後按一下站點輸出AEM選項。在映射儀表板中，按一下 **編輯** 在頂部更新各種配置，然後按一下 **保存**。

>[!TIP]
>
> 查看 *網AEM站發佈* 建立站點輸出的最佳實踐指南中的「最佳AEM實踐」部分。

## 站AEM點配置 {#id_aem_site_config}

「站點」(Site)輸出可AEM以使用以下選項：

| 站AEM點選項 | 說明 |
| --- | --- |
| 輸出類型 | 要生成的輸出類型。 要生成響應AEM的站點輸出，請選AEM擇「站點」選項。 |
| 設定名稱 | 為正在建立的站AEM點設定指定描述性名稱。 例如，可以指定 *內部客戶輸出* 或 *最終用戶輸出*。 |
| 網站名稱 | 輸出儲存在儲存庫中的站點AEM名稱。<br><br>使用此處指AEM定的名稱建立儲存庫中的節點。 如果未指定站點名稱，則使用DITA映射檔案名建立站點節點。<br><br>您在此處指定的「站點名稱」也用作瀏覽器頁籤中的標題。<br><br>也可以在設定站點名稱時使用變數。 有關使用變數的詳細資訊，請參見 [使用變數設定「目標路徑」、「站點名稱」或「檔案名」選項](generate-output-use-variables.md#id18BUG70K05Z)。 |
| 設計 | 選擇要用於生成輸出的設計模板。<br><br>有關如何使用自定義設計模板生成輸出的詳細資訊，請與發佈管理員聯繫。 |
| 目的地路徑 | 儲存輸AEM出的儲存庫內的路徑。 在生成最終輸出時，將「站點名稱」和「目標路徑」組合在一起。 例如，如果將「站點名稱」(Site Name)指定為 `user-guide` 和目標路徑 `/content/output/aem-guides`，則在 `/content/output/aem-guides/user-guide` 的下界。<br><br>也可以在設定目標路徑時使用變數。 有關使用變數的詳細資訊，請參見 [使用變數設定「目標路徑」、「站點名稱」或「檔案名」選項](generate-output-use-variables.md#id18BUG70K05Z)。 |
| 使用應用條件 | 選擇以下選項之一：<br><br>**未應用**:如果不想對已發佈的輸出應用任何條件，請選擇此選項。<br>**DITAVal檔案**:選擇DITAVal檔案以生成條件化內容。 可以使用瀏覽對話框或鍵入檔案路徑來選擇多個DITAVal檔案。 使用檔案名附近的交叉表徵圖將其刪除。 DITAVal檔案按指定的順序計算，因此在第一個檔案中指定的條件優先於在以後的檔案中指定的匹配條件。 可以通過添加或刪除檔案來維護檔案順序。 如果DITAVal檔案被移動到其他位置或被刪除，則不會自動從映射儀表板中刪除該檔案。 在移動或刪除檔案時，需要更新位置。 可以將滑鼠懸停在檔案名上，查看儲存文AEM件的儲存庫中的路徑。 只能選擇DITAVal檔案，如果選擇任何其他檔案類型，則會顯示錯誤。<br>**條件預設**:從下拉清單中選擇條件預設，以便在發佈輸出時應用條件。 如果已為DITA映射檔案添加了條件，則此選項可見。 條件設定在DITA映射控制台的「條件預設」頁籤中可用。 要瞭解有關條件預設的詳細資訊，請參閱 [使用條件預設](generate-output-use-condition-presets.md#id1825FL004PN)。 |
| 現有輸出頁 | 選擇 **覆蓋內容** 選項覆蓋現有頁面中的內容。 此選項僅覆蓋頁面的內容和頭節點下的內容。 此選項允許混合發佈內容。 選擇此選項提供了從已發佈輸出中選擇刪除孤立頁面的選項。 這也是 *預設* 的子菜單。<br><br>選擇 **刪除並建立** 選項，在發佈期間強制刪除任何現有頁面。 此選項將刪除頁面節點及其內容及其下的所有子頁面。 如果更改了輸出預設的設計模板，或希望刪除目標中已存在的任何額外頁，則使用此選項。 |
| 刪除孤立網站頁 | 選擇 **覆蓋內容** 的 **現有輸出頁** 設定顯示此選項。 如果選擇此選項，則所有孤立頁面都將從已發佈的站點中AEM刪除。 要使此功能成功運行，必須發佈整個DITA映射，而不要使用增量發佈。<br><br>假設您已發佈了DITA映射，該映射包含主題a.dita、b.dita和c.dita。 在再次發佈映射之前，已從映射中刪除b.dita主題。 現在，如果您已選擇此選項，則與b.dita相關的所有內容都將從「站點」輸出AEM中刪除，並且僅發佈a.dita和c.dita。<br><br>此功能不會刪除任何已發佈的子映射。 例如，如果父映射包含子映射，並且您刪除了整個子映射，則子映射內容不會從已發佈的輸出中刪除。 但是，如果從子映射中刪除任何主題並重新發佈，則刪除的主題的內容將從網站輸出中刪除。<br><br>此外，如果存在任何被引用的內容，並且該內容在重新發佈之前被刪除，則不會刪除被引用內容的資料。<br><br>**注釋**:在輸出生成日誌中還捕獲有關已刪除孤立頁的資訊。 有關訪問日誌檔案的詳細資訊，請參見 [查看並檢查日誌檔案](generate-output-basic-troubleshooting.md#id1821I0Y0G0A__id1822G0P0CHS)。 |
| 清除DITA-OT臨時檔案 | 選擇此選項可清除由DITA-OT生成的臨時檔案。 DITA-OT儲存臨時檔案的位置可在輸出生成日誌中找到。<br><br>如果在通過DITA-OT生成輸出時遇到錯誤，則可以取消選擇此選項以保留臨時檔案。 然後，您可以使用這些檔案排除輸出生成錯誤。 |
| 為每個主題生成單獨的PDF | 如果選中，則還會為DITA映射中的每個主題建立PDF。 選擇此選項時，將顯示新的拆分PDF路徑選項。<br><br>在拆分PDF路徑欄位中，指定儲存為每個主題生成的PDF的路徑。<br><br>**注釋**:參AEM考線使用名為pdfx的DITA-OT插件為每個主題生成PDF。 此插件與出廠預裝的DITA-OT軟體包捆綁在一起。 您可以根據您的要求自定義此插件以生成PDF。 如果使用自定義DITA-OT插件，請確保整合pdfx插件以具有主題級PDF生成功能。 |
| 運行生成後工作流 | 選擇此選項後，將顯示一個新的「生成後工作流」下拉清單，其中包含中配置的所有工AEM作流。 必須選擇要在完成輸出生成工作流後執行的工作流。 |
| 使用基線 | 如果已為所選DITA映射建立基線，請選擇此選項以指定要發佈的版本。<br><br>**重要**:當為站點生成增量輸出時，AEM將使用檔案的當前版本而不是附加的基線建立輸出。<br><br>請參閱 [使用基線](generate-output-use-baseline-for-publishing.md#id1825FI0J0PF) 的雙曲餘切值。 |
| 屬性 | 選擇要作為元資料處理的屬性。 這些屬性是從DITA映射或書籤映射檔案的「屬性」頁中設定的。 從下拉清單中選擇的屬性列在「屬性」欄位下方，並從下拉清單中刪除。<br><br>**注釋**:元資料屬性區分大小寫。<br><br>*如果已選擇「基線」(Baseline)，則屬性的值將基於所選「基線」(Baseline)的版本。<br>* 如果尚未選擇「基線」，則屬性的值將基於最新版本。<br><br>您還可以使用DITA-OT發佈將元資料傳遞到輸出。 有關詳細資訊，請參閱 [使用DITA-OT將元資料傳遞到輸出](pass-metadata-dita-ot.md#id21BJ00QD0XA)。<br><br>**注釋**:如果您尚未定義 `cq:tags` 在屬性選項中， `cq:tags` 從當前工作副本中挑選，即使您已選擇了用於發佈的基線。 |
| 如果在主題上缺少映射屬性，則使用映射屬性 | 如果選中，則為映射檔案定義的屬性也複製到未定義此類屬性的主題中。 使用此選項時請考慮以下幾點：<br><br>*只能將字串、日期或長（單值和多值）屬性傳遞到「站AEM點」頁。<br>* String類型屬性的元資料值不支援任何特殊字元(如 `@, #, " "`)。<br>*此選項應與 `Properties` 的雙曲餘切值。 |

## 現場附AEM加說明

### 從Web編輯器生成基於文章的輸出

可以從Web編AEM輯器為一個或多個主題或整個DITA映射生成站點輸出。 您需要為DITA映射建立輸出預設，然後可以輕鬆地為映射AEM生成站點輸出。 如果更新了映射中的幾個主題，您也可以僅從Web編輯AEM器為這些主題生成「站點」輸出。 有關詳細資訊，請參閱 [基於文章的Web編輯器發佈](web-editor-article-publishing.md#id218CK0U019I)。

### 從其他映射生成輸出連結主題

在多個資料夾和DITA映射之間分佈大量文檔是非常常見的情形。 發佈來自不同地方的連結內容變得極其複雜。 預設情況下，所有連結 `<xref>` 是 `local` `@scope`。 發佈此類主題不涉及任何挑戰，因為它使用指向該主題的直接連結。 如果主題不在當前DITA映射之外，則連結不顯示連結的內容。

連結內容的另一種方法是使用 `peer` `@scope`。 對於此類內容，通過從DITA映射的發佈上下文中為連結主題選擇配置的上下文，在運行時解析連結。 以下螢幕快照顯示具有以下連結的「屬性」面板 `peer` `@scope`:

![](images/peer-link-scope-link.png){width="800" align="left"}

為簡化複雜地圖的發佈，以及連結到其他地圖中其他主題的主題，AEM「參考線」允許您為每個輸出預設設定發佈上下文。

發佈上下文允許您指定發佈特定輸出時必須從哪個映射使用哪個主題。 讓我們通過一個示例來瞭解這一點 — 假設您有四個資料夾：樣品a、樣品b、樣品c和樣品d。每個資料夾都包含一個DITA映射 — DITA映射A、DITA映射B、DITA映射C和DITA映射D。當DITA映射A中的主題連結到DITA映射B、C或D中的主題時，將發生交叉映射連結。在下面的螢幕截圖中，示例概念主題包含指向其他DITA映射一部分的檔案的連結\（或引用\）。

![](images/sample-concept-link-to-other.png){width="350" align="left"}

現在，當您為包含此主題的AEM映射檔案配置「站點發佈」設定時，可以選擇發佈時使用連結內容的發佈上下文。 發佈上下文是DITA映射及其輸出預設的組合。 輸出預設依次包含內容的特定版本和條件預設。 DITA映射、輸出預設、\(files\)版本和條件的整個組合定義連結映射的發佈上下文。

執行以下步驟以指定交叉連結檔案的發佈上下文：

1. 開啟 **輸出預設** 要發佈的DITA映射的頁籤。

1. 選擇 **站AEM點** 輸出預設。

   您將獲取「預設AEM設定」和「發佈上下文」頁籤。

   ![](images/aem-site-publish-settings.png){width="800" align="left"}

1. 開啟 **發佈上下文** 頁籤。

   您將顯示從屬主題清單。 這些主題是從當前映射中的某個主題連結的，但它們可在某些其他DITA映射中使用。

   >[!NOTE]
   >
   > 「發佈上下文」(Publish Context)頁籤顯示使用 `peer` `@scope` 只是。 對於與 `local` `@scope`，您無需指定發佈上下文。

   預設情況下，所有連結主題的最新輸出預設和映射都處於選中狀態。

   ![](images/default-publish-context.png){width="800" align="left"}

1. 要更改DITA映射和預設的預設選擇，請按一下 **編輯** \（在主工具欄\中）。

1. 如果要使用映射中每個從屬檔案最近發佈的輸出，請選擇 **將最近生成的發佈上下文用於所有相關主題**。

1. 在 **父映射** 下拉清單中，選擇要連結當前映射輸出的映射檔案。

   在選擇映射檔案時，映射的UUID顯示在「父映射UUID」列中。 與所選映射關聯的輸出預設列在父映射的預設清單中。

1. 在 **父映射的預設** 下拉清單中，選擇要將當前映射的輸出連結到的輸出預設。

1. 為所有從屬主題選擇所需的映射及其輸出預設，然後按一下 **完成**。

   現在將設定從屬主題的上下文。 可以為當前映射生成輸出。 有關生成輸出的詳細資訊，請參見 [從映射控制台生成DITA映射的輸出](generate-output-for-a-dita-map.md#)。

### 混合發佈

指AEM南支援在現有站點中發佈DITAAEM內容。 例如，如果您有現有站點，則可以使用站AEM點輸出僅發佈該站點上的DITA內容。 在此過程中，發佈過程不會修改現有的非DITA內容。 有關將網站設定為僅發佈DITA內容的詳細資訊，請與發佈管理員聯繫。

### 發佈 `conref`

如果您使用 `conref` 在您的內容中，它將作為普通內容或嵌入內容與源\（或refering\）主題中的內容一起發佈。 的 `conref` 內容與主內容一起呈現，並且不會為其建立單獨的網站頁。 搜索中引用的內容時 `conref`，則僅包含 `conref` 內容顯示在搜索結果中。

>[!NOTE]
>
>如果為 `conref` 使AEM用3.5版或更低版本的指南，則建議使用 [刪除孤立網站頁](#delete-orphan-page-aem-site) 的雙曲餘切值。


### 在內容中搜索字串

可以在「站點」輸出中搜索AEM字串。 預設情況下，只能搜索標題中的字串。 要在內容或站點輸出正文中搜索字串AEM，請與系統管理員聯繫以啟用fleptaning.enabled屬性。

![搜索AEM站點輸出](images/aem-output-search.png){width="650" align="left"}

有關詳細資訊，請參閱 *配置站點節AEM點結構的拼合* 安裝和配置Adobe Experience Manager指南中的「Install and configure Guides（安裝及設定指南）」部分。

**父主題：**[&#x200B;瞭解輸出預設](generate-output-understand-presets.md)
