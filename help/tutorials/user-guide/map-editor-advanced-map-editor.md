---
title: 使用高級映射編輯器
description: 瞭解如何使用高級映射編輯器
exl-id: 4f48d489-d13e-4285-8870-373f0324f5f6
source-git-commit: 3bca42f0954afc2362ab24f369e698113324dbc3
workflow-type: tm+mt
source-wordcount: '3675'
ht-degree: 0%

---

# 使用高級映射編輯器 {#id1942D0S0IHS}

「高級映射編輯器」具有直觀的用戶介面，與Web編輯器類似。 在Web編輯器中開啟映射檔案時，將獲得一個選項，可使用「高級映射編輯器」介面編輯映射檔案。 高級映射編輯器允許您添加主題引用、鍵引用、構造內容等。

除了直接從Web編輯器編輯映射檔案外，還可以在映射中開啟主題檔案以編輯Web編輯器。 本主題將引導您瞭解高級映射編輯器中的功能，以及如何在Web編輯器中開啟和編輯DITA映射中的檔案。

## 將主題添加到映射檔案

使用高級映射編輯器生成映射檔案，請執行以下步驟：

1. 在資產UI中，導航到要編輯的映射檔案。

   >[!NOTE]
   >
   > 確保尚未啟用資產選擇模式。

1. 要獲取映射檔案上的獨佔鎖，請選擇映射檔案，然後按一下 **簽出**。

   >[!NOTE]
   >
   > 一旦對映射檔案具有獨佔鎖定，其他用戶將無法編輯映射。 但是，他們將能夠處理映射檔案中的主題。 如果管理員已將Web編輯器配置為在編輯之前簽出檔案，則在簽出檔案之前，您將無法編輯該檔案。 同樣，如果配置了，系統會要求您在關閉檔案之前簽入任何簽出的檔案

1. 選中映射檔案後，按一下 **編輯主題**。

   ![](images/edit-map-main-menu.png){width="800" align="left"}

   或者，您也可以 **編輯主題** 選項：

   ![](images/edit-map-action-menu.png){width="800" align="left"}

   在Web編輯器中開啟映射檔案以進行編輯。

1. 按一下 **編輯** 表徵圖

   ![](images/edit-map-icon.png){width="550" align="left"}

   該映射在「高級映射編輯器」介面中開啟。 如果已開啟新的映射檔案，則編輯器中只顯示映射的標題。

   ![](images/new-map-file-in-editor.png){width="800" align="left"}

   - **A** - \(*主工具欄*\):這與Web編輯器的主工具欄類似。 請參閱 [主工具欄](web-editor-features.md#id2051EA0G05Z) 的子菜單。

   - **B** - \(*輔助工具欄*\)這是輔助工具欄，允許您使用映射檔案。 有關通過輔助工具欄提供的功能的詳細資訊，請參見 [「高級映射編輯器」工具欄中提供的功能](#id205DEC0005Z)。

   - **C** - \(*映射視圖*\):允許您在佈局、作者、源和預覽之間切換映射編輯器。 的 **佈局**&#x200B;視圖允許您在DITA映射中組織主題。 這將提供映射的樹或分層視圖。 的 **作者** 視圖允許您編輯映射編輯器中的主題。 這也提供映射檔案的WYSIWYG視圖。 的 **源** 「視圖」(view)允許您使用映射檔案的基礎XML。 「預覽」(Preview)為映射檔案內的所有主題和子映射提供了一個統一視圖。 的 **關閉** 連結關閉映射檔案。

   - **D** - \(*左面板*\):允許訪問左側面板，該面板允許您訪問收藏夾、儲存庫、映射、大綱和其他功能。 可以通過按一下「展開提要欄」表徵圖\(![](images/sidebar-expand-icon.svg)\)。 有關左側面板中可用功能的詳細資訊，請參見 [左面板](web-editor-features.md#id2051EA0M0HS) 的子菜單。

   - **E** - \(*中間區域*\):映射內容編輯區域。

   - **F** - \(*右面板*\):允許訪問「屬性」面板。 您可以查看所選主題或映射的內容屬性和映射屬性。 有關此面板中可用功能的詳細資訊，請參見 [右面板](web-editor-features.md#id2051EB003YK) 的子菜單。

1. 在左面板中，切換到 **儲存庫視圖**。

1. 在存AEM儲庫中，導航到包含要添加的主題或子映射的資料夾。

1. 在中選擇主題或映射檔案 **儲存庫視圖** 並將其拖放到\(middle\)映射內容編輯區域。

   主題將添加到映射中。

   ![](images/map-editor-add-topic.png){width="800" align="left"}

1. 要添加後續主題或子映射，請將主題或子映射拖放到映射中的所需位置。

   在生成映射檔案時請考慮以下幾點：

   - 檔案將添加到在映射編輯區域中顯示水準條的位置。 在以下螢幕快照中， *概述* 主題將被添加到 *一般說明* 和 *發射和著陸場* 選項。

      ![](images/horizontal-line-in-adv-map-editor.png){width="350" align="left"}

   - 要替換主題，請將主題放在要替換的主題的頂部、左側或右側。 主題左側或右側的垂直條表示將替換為主題上所放的內容。

      ![](images/vertical-bar-left-right.png){width="550" align="left"}

      但是，在替換主題之前，您會收到確認提示。 只有在您發出確認後，才會替換主題。

      ![](images/replace-topic-confirm.png){width="300" align="left"}

   - 如果將子映射添加到DITA映射中，子映射將顯示為DITA映射中的連結。 要查看子映射的所有主題，請按住Crtl並按一下子映射連結。 子映射的內容顯示在新頁籤中。 同樣，要從DITA映射中開啟主題，請按住Crtl+按一下主題連結，該連結將在新頁籤中開啟。

   - 可以使用工具欄中的快捷鍵CTRL+Z和CTRL+Y或它們各自的表徵圖撤消或重做映射中的任何更改。

   - 要更改主題的位置，請選擇主題\（通過按一下主題表徵圖\），然後將其拖放到映射檔案中的所需位置。 確保在要放置主題的位置顯示水準條。 在以下螢幕快照中，主題 *發射和著陸場* 是在 *概述* 主題。

      ![](images/move-topic-adv-map-editor.png){width="350" align="left"}

   - 要檢查映射檔案的屬性，請按一下右鍵映射編輯區域中的任意位置，然後選擇 **屬性** 的子菜單。 根據您的AEM版本，您可以看到諸如元資料、計畫\(de\)激活、引用、文檔狀態等屬性。

1. 按一下「**儲存**」。


## 「高級映射編輯器」工具欄中提供的功能 {#id205DEC0005Z}

高級映射編輯器中的工具欄與主題Web編輯器類似。 在兩個編輯器中，常用的基本操作包括切換左面板、保存映射、建立新版本的映射、撤消/重做上次操作以及刪除所選元素。 有關這些操作如何工作的詳細資訊，請參見 [瞭解Web編輯器功能](web-editor-features.md#) 的子菜單。

「佈局」(Layout)和「作者」(Author)視圖的工具欄上也提供以下特定於映射的操作：

## 佈局視圖 {#id205DEC0005Z_layout_view}

開啟圖進行編輯時，它會開啟圖編輯器的「佈局」視圖。「佈局」視圖在樹視圖中顯示圖層次結構，並允許您在圖中組織主題。

>[!NOTE]
>
> 「佈局」(Layout)視圖只顯示映射中存在的參照。 如果任何參照被破壞，則在參照的左側顯示一個小的交叉符號

可以在「佈局」視圖中執行以下任務：

**插入主題引用** - ![](images/insert-topic-reference.png)

顯示主題搜索對話框。 導航到要插入的主題/映射檔案，然後按一下「選擇」將其添加到映射中。
![](images/insert-topic-reference-dialog.png){width="800" align="left"}


**插入主題組** - ![](images/insert-topic-group.png)

插入 `topicgroup` 的子菜單。 有關分組主題的詳細資訊，請參閱 [托派克](https://docs.oasis-open.org/dita/v1.0/langspec/topicgroup.html) OASIS DITA語言規範中的文檔。

**插入鍵定義** - ![](images/Key_icon.svg)

顯示「插入鍵定義」對話框。 使用此對話框可定義要在映射中使用的任何鍵定義。

![](images/insert-key-definition-dialog.png){width="300" align="left"}

**在前/後插入** - ![](images/insert_element_before_icon.svg) / ![](images/insert_element_after_icon.svg)

顯示「插入元素」(Insert Element)對話框。 選擇要插入到映射中的元素。 根據操作，新元素將插入映射中當前元素之前或之後。

**插入前事項** - ![](images/frontmatter.svg)

開啟要編輯的書籍映射時，將顯示此表徵圖。 可以在書的開頭插入元件，如目錄、索引和表清單。

**插入回料** - ![](images/backmatter.svg)

開啟要編輯的書籍映射時，將顯示此表徵圖。 您可以插入書籍末尾的元件，如索引、辭彙表和圖表清單。

**左/右移動選定項** - ![](images/left-arrow-icon.png) / ![](images/right-arrow-icon.png)

按一下左箭頭，將主題移到層次中的左側。 這基本上將各個主題提升到層次的一個級別。 例如，在選擇子主題時按一下左箭頭，使其成為其上方主題的同級。 同樣，如果按一下右箭頭，則主題會朝右側推進，使其成為上方主題的子主題。

**上移/下移選定項![](images/arrowup.svg)** - / ![](images/arrowdown.svg)

按一下上箭頭或下箭頭表徵圖，在層次結構中上下移動主題。

>[!NOTE]
>
> 也可拖放參照，以在地圖中移動參照。

**鎖定/解鎖** - ![](images/LockClosed_icon.svg) / ![](images/LockOpen_icon.svg)

獲取映射檔案上的鎖並釋放鎖。 如果您的映射檔案中有未保存的更改，則在釋放鎖時，系統會提示您保存映射檔案。 更改將保存在映射檔案的當前版本中。

**合併** - ![](images/merge-icon.svg)

有關從相同或不同檔案的不同版本合併內容的詳細資訊，請參見 [合併](web-editor-features.md#id205DF04E0HS) 的子菜單。

**版本歷史記錄** - ![](images/version-history-web-editor-ico.svg)

檢查活動主題上的可用版本和標籤，然後從編輯器本身恢復到任何版本。

**版本標籤** - ![](images/version-label-icon.svg)

顯示版本標籤管理對話框。 從下拉清單中選擇一個版本。 選擇要應用於選定版本的標籤，然後按一下 **添加標籤** 來添加。

**查看選項** - ![](images/view-options.svg)

顯示一個下拉清單，該下拉清單提供了「顯示行號」、「顯示複選框」和「顯示檔案名」選項。

- **顯示行號**

顯示或隱藏每個主題的行號。 行號將根據層次結構中的層顯示。

- **顯示複選框**

顯示或隱藏每個主題的複選框。 可以使用複選框選擇主題並使用「選項」菜單執行各種任務。 有關詳細資訊，請參閱 [選項](#id228ID8006H8) 的子菜單。

- **顯示檔案名**

顯示主題標題的檔案名。

>[!NOTE]
>
> 將指針懸停在主題標題上時，將顯示檔案路徑。


**基於條件篩選器查看主題**&#x200B;如果已對主題應用了任何條件，則在主題右側顯示一個篩選器表徵圖。 將指針懸停在篩選器表徵圖上時，將顯示已應用的條件及其屬性值。

**「佈局」視圖中的「選項」菜單**

除了組織映射檔案中的主題外，您還可以使用「佈局」視圖中某個元素的「選項」(Options)菜單執行以下操作：

![](images/map-editor-options-menu.png){width="650" align="left"}

- **添加**:您可以選擇從映射編輯器添加新主題或空引用：
   - **空引用**:此選項允許您在DITA映射中添加空引用。 以後可以按兩下插入的空引用並添加主題詳細資訊。 有關詳細資訊，請參閱 [建立主題](web-editor-features.md#id228ICI0105U) 的子菜單。
   - **新建主題**:從菜單選擇建立新主題時，將顯示「建立新主題」對話框。 在「建立新主題」對話框中，提供所需的詳細資訊，然後按一下建立。 有關詳細資訊，請參閱 [建立主題](web-editor-features.md#id228ICI0105U) 的子菜單。
- **移動**:您可以選擇在層次結構中上移/下移/右移/左移一個主題。也可以將主題或映射從儲存庫面板拖放到在「映射編輯器」中開啟的映射。
- **撤消**:撤消「佈局」視圖中的最後一個操作。
- **重做**:重做「佈局」視圖中的最後一個操作。
- **複製**:從映射檔案複製所選參照。

   >[!NOTE]
   >
   > 可以顯示並選中複選框以複製多個參照。

- **貼上**:將複製的引用貼上到層次中的當前位置。
- **刪除**:從映射檔案中刪除所選參照。

   >[!NOTE]
   >
   > 可以顯示並選中複選框以刪除多個參照。


## 映射編輯器中的右面板

右面板在「映射編輯器」的「佈局」視圖中顯示「內容屬性」和「映射屬性」。

**內容屬性**

「內容屬性」面板包含有關映射中當前選定主題的類型、其連結URL及其屬性的資訊。 有關詳細資訊，請參閱 [內容屬性](web-editor-features.md#id228IDB00HMM) 的子菜單。

- **其他屬性** 如果管理員已為屬性建立了配置檔案，則您將獲得這些屬性及其配置的值。 使用內容屬性面板，您可以選擇這些屬性並將其分配給主題中的相關內容。 您還可以在 **顯示屬性** 的子菜單。 為元素定義的屬性顯示在「佈局」和「大綱」視圖中。 這有助於您快速查看為其定義特定屬性的映射中的所有主題。 例如，所有平台屬性定義為「Android」的主題。

   ![](images/layout-inline-attributes.png){width="650" align="left"}


   有關詳細資訊，請參閱 *顯示屬性* 在 *編輯器設定* 功能說明 [左面板](web-editor-features.md#id2051EA0M0HS) 的子菜單。

- **元資料** 使用元資料，可以設定元資料資訊。 您可以定義導航標題、連結文本、簡短說明和關鍵字。

有關標準主題屬性和元資料的詳細資訊，請參見 [托皮](https://docs.oasis-open.org/dita/v1.2/os/spec/langref/topicref.html) OASIS DITA語言規範中的文檔。

**映射屬性**

顯示「映射屬性」對話框，在其中可以設定映射的屬性和元資料資訊。

## 作者視圖 {#id205DEC0005Z_author_view}

的 **作者** 視圖允許您在Web編輯器中編輯DITA映射。 這顯示了「映射編輯器」的WYSIWYG視圖，「作者」視圖中顯示的某些表徵圖與「佈局」視圖相同。 有關詳細資訊，請參閱 [佈局視圖](#id205DEC0005Z_layout_view)。 此外，您還可以從「作者」視圖中查看以下表徵圖並執行相關任務：

**在前/後插入** - ![](images/insert_element_before_icon.svg) / ![](images/insert_element_after_icon.svg)

顯示「插入元素」(Insert Element)對話框。 選擇要插入到映射中的元素。 根據操作，新元素將插入映射中當前元素之前或之後。

**插入元素** - ![](images/Add_icon.svg)

顯示「插入元素」(Insert Element)對話框。 選擇要插入的元素。 可以使用鍵盤滾動瀏覽元素清單，然後按Enter鍵插入所需元素。 或者，可以直接按一下元素，將其插入映射中。

**插入關係表** - ![](images/relationship_table_icon.svg)

在映射中插入關係表。 由於使用關係表的概念與「基本映射編輯器」部分中的說明相同，請參見 [在基本映射編輯器中使用關係表](map-editor-basic-map-editor.md#id1944B0I0COB) 的子菜單。

**插入可重用內容** - ![](images/content-reuse-icon.png)

顯示「重用內容」對話框。 使用此對話框可插入要在映射中重新使用的內容。

**刷新導航標題屬性** - ![](images/navtitle-refresh-icon.svg)

同步 `title` 映射中引用檔案的元素，其中指定的值 `@navtitle` 屬性。 可以在映射中添加不同類型的引用檔案，如主題、引用、任務、\(sub\)映射等。 這些檔案大多支援 `@navtitle` 屬性。 如果檔案包含 `@navtitle` 屬性，然後 `@navtitle` 映射中同一檔案的屬性將更新。 以防 `@navtitle` 屬性不存在，則 `@navtitle` 屬性添加到該引用檔案及其 `title` 也更新以顯示 `@navtitle`。

>[!NOTE]
>
> 管理員可以配置自動添加 `@navtitle` 屬性。 有關配置自動添加的詳細資訊 `@navtitle` 屬性，請參閱 *預設情況下包@navtitle屬性* 在安裝和配置Adobe Experience Manager指南as a Cloud Service。

按一下「刷新導航標題屬性」表徵圖以同步 `title` 元素和 `@navtitle` 屬性的值。

**切換標籤視圖** - ![](images/Label_icon.svg)

顯示或隱藏XML標籤。 標籤用作指示元素邊界的視覺提示。 在此模式下，如果要插入主題/映射引用，則在標籤之前或之後拖放所需檔案。 水準條在「標籤視圖」模式下不顯示。

**啟用/禁用跟蹤更改** - ![](images/track-change-icon.svg)

通過啟用「跟蹤更改」模式，可以跟蹤映射檔案中進行的所有更新。 啟用跟蹤更改後，所有插入和刪除內容都會在文檔中捕獲。 有關詳細資訊，請參閱 [啟用/禁用跟蹤更改](web-editor-features.md#id205DF0203Y4) 的子菜單。

**建立審閱任務** - ![](images/create-review-task-icon.svg)

您可以直接從Web編輯器建立當前主題的審閱任務或映射檔案。 開啟要為其建立審閱任務的檔案，然後按一下「建立審閱任務」(Create Review Task)以啟動審閱建立過程。 按照 [查看主題或地圖](review.md#) 的子菜單。

## 通過DITA映射編輯主題 {#id17ACJ0F0FHS}

編輯單個主題不會為作者提供完整的上下文。 作者沒有有關主題在DITA映射中的位置的資訊。 沒有這種上下文資訊，作者就很難建立內容。

指AEM南允許作者在Web編輯器中開啟DITA映射，並查看映射中主題的位置。 這有助於作者知道主題在地圖中的確切位置並建立更相關的內容。 此外，如果有多個作者在為一個項目工作，則他們可以知道地圖中提供的所有主題，並根據需要重新使用內容。

要通過DITA映射編輯主題，請執行以下步驟：

1. 在資產UI中，導航到包含要編輯的主題的DITA映射。
1. 按一下DITA映射以在DITA映射控制台中開啟它。
1. 選擇 **主題** 頁籤，查看DITA映射中可用的主題清單。

   >[!TIP]
   >
   > 「主題」(Topics)頁籤提供了下載映射檔案及其依存對象的選項。 有關詳細資訊，請參閱 [導出DITA映射檔案](authoring-download-assets.md#id218UBA00IXA)。

1. 在主工具欄中，按一下 **編輯主題**。

   DITA映射在Web編輯器中開啟。

   >[!NOTE]
   >
   > 也可以在資產UI中選擇DITA映射檔案，然後按一下 **編輯主題** 的子菜單。

   ![](images/web-editor-map-view_cs.png){width="350" align="left"}

1. \(*可選*\)也可以在編輯前從映射中選擇主題並簽出檔案。 要簽出檔案\(s\)，請從左窗格中選擇一個或多個檔案，然後按一下 **簽出**。 也可以通過選擇檢出的檔案並按一下 **取消簽出和解鎖** 表徵圖。

   >[!IMPORTANT]
   >
   > 如果管理員已配置 **禁用「編輯而不簽出」** 選項，則編輯前必須簽出檔案。 如果不簽出檔案，則文檔將以只讀模式在編輯器中開啟。

   以下螢幕快照突出顯示了簽出和鎖定\(A\)、取消簽出和解鎖\(B\)、另存為新版本和解鎖\(C\)、編輯\(D\)、預覽\(E\)、顯示不同DITA檔案類型\(F\)的不同表徵圖以及簽出的檔案。

   ![](images/file-checkout-map-editor.png){width="550" align="left"}

1. 按一下任何主題連結，在Web編輯器中將其開啟以進行編輯。

   可以在編輯器中開啟多個主題，並且每個主題都在編輯器的新頁籤中開啟。 即使DITA映射包含子映射，子映射中的主題也會在新頁籤中開啟以供編輯。 如果要查看子映射下的主題，可按一下並展開子映射。

   ![](images/web-editor-multiple-topics.png){width="800" align="left"}

   如果按一下映射檔案，則會在Web瀏覽器的新頁籤中開啟映射。

1. 編輯完主題後，可以執行以下操作：

   - 您可以單獨保存它們。 如果按一下 **關閉而不保存** 您的主題，您將看到提示您保存未保存主題的對話框：

      ![](images/save-multiple-topics.PNG){width="550" align="left"}

      您可以選擇保存所有選定主題或取消選擇不想保存的主題。

   - 您可以使用 **另存為新版本並解鎖** 按鈕 保存主題的修訂版時，將建立新修訂版，並釋放鎖。
   - 如果您的管理員啟用了關閉時簽入檔案的選項，則在關閉簽出的檔案時，系統將顯示保存檔案的提示。 啟用此選項後，當您關閉包含更改檔案的編輯器時，將顯示需要保存的簽出檔案的清單。 檢出的檔案以鎖定表徵圖顯示：

      ![](images/save-on-close.PNG){width="550" align="left"}

      - 按一下 **關閉而不保存** 按鈕關閉檔案，而不保存任何更改。

      - 按一下 **保存** 按鈕保存更改，但不簽入檔案。

      - 選擇 **檢查檔案** ，然後按一下 **保存** 按鈕將簽入檔案\（建立另一個版本\），並保存檔案。


## 預覽映射

除了能夠看到地圖中每個主題檔案的位置之外，希望能夠在一個連續流中看到地圖內容。 「預覽映射」(Preview Map)功能允許您在一次按一下中查看映射檔案的整個內容。 您不必生成映射檔案的輸出，即可查看發佈後整個映射的外觀。 您只需訪問地圖的預覽即可，所有主題和子地圖都以書籍的形式呈現。

您可以從以下位置訪問地圖的預覽：

- **資產UI**:在資產UI中，導航到映射位置，選擇映射檔案，然後選擇 **預覽映射** 的子菜單。 地圖的預覽顯示在新頁籤中。 可以在預覽模式下查看所有主題的內容。 在此視圖中，不能編輯任何主題。

   >[!NOTE]
   >
   > 如果 *預覽映射* 選項在主工具欄中不可見，它可能已移動到 **更多** 工具欄。

- **高級映射編輯器**:在「高級映射編輯器」中，按一下「預覽」表徵圖可查看當前映射的預覽。

   ![](images/map-preview-icon.png){width="350" align="left"}

   可以在預覽模式下執行以下附加任務：

   - 按一下右鍵某個主題，然後選擇 **編輯** 的子菜單。

      >[!NOTE]
      >
      > 如果您沒有編輯權限，則主題將以只讀模式開啟。

   - 按一下映射樹\（在左面板\中）中的主題標題，跳轉到所需主題。

   - 映射預覽中的當前主題也會在映射樹中突出顯示。


**父主題：**[&#x200B;使用映射編輯器](map-editor.md)
